---
import MainLayout from '../layouts/MainLayout.astro';
import { SITE_TITLE, SITE_DESCRIPTION, CONTACT_INFO } from '../consts';
import ContactSection from '../components/ContactSection.astro';
import '../styles/home.css';

const heroHighlights = [
  'パソコン販売・修理',
  'インターネットサポート',
  'データー復旧・ウイルス削除 etc'
];

const heroBackgrounds = [
  '/images/joshua-ng-1sSfrozgiFk-unsplash.jpg',
  '/images/milad-fakurian-t_IkF_CNvSY-unsplash.jpg',
  '/images/nathan-anderson-KHSPGJ3zP0M-unsplash.jpg',
  '/images/olivier-collet-JMwCe3w7qKk-unsplash.jpg',
  '/images/onur-binay-auf3GwpVaOM-unsplash.jpg'
];

const storeAnnouncements = [
  {
    date: '2025.10.10',
    title: '10月13日(日) 店舗イベント開催に伴う営業時間変更',
    tag: '営業時間',
    body: [
      '店舗イベント準備のため、10月13日(日)は16:00閉店とさせていただきます。翌14日(月)より通常営業いたします。'
    ]
  },
  {
    date: '2025.10.05',
    title: '10月12日(土) 営業時間変更のお知らせ',
    tag: '営業時間',
    body: [
      '機材メンテナンスのため、10月12日(土)は17:00閉店となります。翌13日(日)は通常営業いたします。'
    ]
  },
  {
    date: '2025.09.22',
    title: '台風接近に伴う営業時間短縮について',
    tag: '重要',
    body: [
      '台風接近のため、9月23日(月)は14:00閉店といたします。安全を第一にご来店ください。'
    ]
  },
  {
    date: '2025.09.18',
    title: '臨時休業のお知らせ（9月22日）',
    tag: '臨時休業',
    body: [
      '社内研修のため、9月22日(月)は終日休業いたします。緊急のご連絡はメールにてお送りください。'
    ]
  }
];

const featuredProducts = [
  {
    date: '2025.10.08',
    title: 'dynabook RZ83 モバイルノートリフレッシュ品',
    tag: 'おすすめ商品',
    summary:
      '重量約1kgのハイスペックモバイル。LTE対応モデルで外出先からの接続もスムーズです。',
    link: '/products/dynabook-rz83-refurb',
    image: '/images/gallery-3.jpg'
  },
  {
    date: '2025.10.04',
    title: 'Mac mini (M2) 導入セットアッププラン',
    tag: 'おすすめ商品',
    summary:
      '動画編集やDTMに最適なM2搭載Mac miniを初期設定とソフト導入込みでご提供します。',
    link: '/products/mac-mini-m2-setup',
    image: '/images/gallery-6.jpg'
  },
  {
    date: '2025.10.01',
    title: 'Dell OptiPlex 7010 SFF 業務用PC',
    tag: 'おすすめ商品',
    summary:
      '省スペース筐体ながら第13世代Core搭載。事務処理からCADまで幅広く活躍します。',
    link: '/products/dell-optiplex-7010-sff',
    image: '/images/gallery-4.jpg'
  },
  {
    date: '2025.09.29',
    title: 'Panasonic タフブック FZ-G2 中古美品 入荷',
    tag: 'おすすめ商品',
    summary:
      '防塵・防滴仕様で現場でも安心して使える堅牢タブレット。メモリ16GB / SSD 512GB モデルが数量限定で入荷しました。',
    link: '/products/panasonic-toughbook-fz-g2',
    image: '/images/gallery-2.jpg'
  },
  {
    date: '2025.09.25',
    title: 'Brother A4 モノクロレーザー複合機セット',
    tag: 'おすすめ商品',
    summary:
      '高速プリントとネットワークスキャンに対応。SOHO向けに初回消耗品付きで導入サポートいたします。',
    link: '/products/brother-laser-mfc-setup',
    image: '/images/gallery-5.jpg'
  },
  {
    date: '2025.09.22',
    title: 'Lenovo ThinkCentre M90q Gen3 カスタム',
    tag: 'おすすめ商品',
    summary:
      '小型ながら高拡張性のビジネスデスクトップ。メモリ32GBとNVMe 1TBにアップグレード済みです。',
    link: '/products/lenovo-thinkcentre-m90q',
    image: '/images/joshua-ng-1sSfrozgiFk-unsplash.jpg'
  },
  {
    date: '2025.09.16',
    title: 'ASUS ProArt カラーマネージメントディスプレイ',
    tag: 'おすすめ商品',
    summary:
      '4K HDR対応で工場キャリブレーション済み。写真・映像編集の色管理を強力にサポートします。',
    link: '/products/asus-proart-display',
    image: '/images/milad-fakurian-t_IkF_CNvSY-unsplash.jpg'
  },
  {
    date: '2025.09.10',
    title: 'Windows 11 対応の軽量ノート PC 特集',
    tag: 'おすすめ商品',
    summary:
      '持ち運びに便利な 13 インチクラスの新品・中古ノートをピックアップ。用途に合わせたカスタマイズも承ります。',
    link: '/products/windows11-lightweight-notebooks',
    image: '/images/onur-binay-auf3GwpVaOM-unsplash.jpg'
  }
];

const techBlogPosts = [
  {
    date: '2025.10.06',
    title: 'ゲーミングPCの冷却ファンメンテナンス事例',
    tag: '技術ブログ',
    summary:
      '高発熱CPUを搭載したゲーミングPCの冷却ファン清掃とグリス塗り替えで温度を15℃低減した手順を解説します。',
    link: '/blog/gaming-pc-dust-cleaning',
    image: '/images/olivier-collet-JMwCe3w7qKk-unsplash.jpg'
  },
  {
    date: '2025.10.02',
    title: 'SSDクローンサービスで業務停止を最小化',
    tag: '技術ブログ',
    summary:
      '老朽化したHDDからNVMe SSDへ無停止で移行。バックアップ計画と検証手順を紹介します。',
    link: '/blog/ssd-clone-service',
    image: '/images/nathan-anderson-KHSPGJ3zP0M-unsplash.jpg'
  },
  {
    date: '2025.09.28',
    title: '小規模オフィスのネットワーク再構築',
    tag: '技術ブログ',
    summary:
      'Wi-Fi 6対応アクセスポイントとVLAN設計で社内ネットワークを再構築したプロジェクトレポートです。',
    link: '/blog/office-network-upgrade',
    image: '/images/gallery-1.jpg'
  },
  {
    date: '2025.09.24',
    title: 'NASバックアップで守る設計図面データ',
    tag: '技術ブログ',
    summary:
      'RAID構成のNASとクラウド同期を組み合わせたバックアップ設計のポイントを実例でご紹介します。',
    link: '/blog/nas-backup-tips',
    image: '/images/hero.jpg'
  },
  {
    date: '2025.05.12',
    title: '水没した iPhone のデータ復旧レポート',
    tag: '技術ブログ',
    summary:
      '基板洗浄と部品交換で復旧に成功。バックアップが取れていなかったお客様の大切な写真データを保護できた事例をご紹介します。',
    link: '/blog/iphone-water-damage-recovery',
    image: '/images/gallery-6.jpg'
  },
  {
    date: '2025.02.18',
    title: 'Panasonic CF-33 のSSD換装と高速化',
    tag: '技術ブログ',
    summary:
      '法人様向けに実施したタフブック CF-33 のSSD換装とメモリ増設。作業の流れとベンチマーク改善の結果をまとめました。',
    link: '/blog/panasonic-cf33-ssd-upgrade',
    image: '/images/gallery-2.jpg'
  }
];

const contactInfo = CONTACT_INFO;
---

<MainLayout
  title={`${SITE_TITLE} | 京都・上京区のパソコン販売・修理ショップ`}
  description={SITE_DESCRIPTION}
>
  <section class="section hero" id="home">
    <div class="hero__slider" aria-hidden="true">
      {heroBackgrounds.map((src, index) => (
        <div class:list={[
          'hero__slide',
          `hero__slide--${index}`
        ]} style={`background-image: url(${src});`}></div>
      ))}
      <div class="hero__overlay-mask"></div>
    </div>
    <div class="container hero__grid">
      <div class="hero__content">
        <span class="tag hero__badge">京都・上京区のPC専門店</span>
        <h1 class="hero__title">
          パソコン・スマホの「困った」は<br />
          JOYPRODUCTにお任せください
        </h1>
        <p class="hero__lead">
          販売・修理・データー復旧・ITサポートまで。地域密着で、お客様の用途やご予算に合わせたベストな解決策をご提案します。
        </p>
        <ul class="hero__list">
          {heroHighlights.map((item, index) => (
            <li>
              <span>{String(index + 1).padStart(2, '0')}</span>
              {item}
            </li>
          ))}
        </ul>
        <div class="hero__cta">
          <a class="primary" href="#contact">お問い合わせ</a>
          <a class="secondary" href="tel:0753346522">お電話 075-334-6522</a>
        </div>
      </div>
      <div class="hero__media">
        <img src="/images/hero.jpg" alt="JOYPRODUCT 店舗の展示" loading="lazy" />
      </div>
    </div>
  </section>

  <section class="section section--tight-top section--tight-bottom" id="news">
    <div class="container">
      <div class="news__header">
        <span class="tag">NEWS</span>
        <h2 class="section__title">店舗からのお知らせ</h2>
        <p class="section__subtitle">最新のお知らせ・おすすめ商品・修理事例をカテゴリー別にご紹介します。</p>
      </div>
      <div class="news__groups">
        <section class="news-section news-section--announcements">

          <div class="news__announcements">
            {storeAnnouncements.slice(0, 4).map((item) => (
              <article class="news-card news-card--announcement">
                <div class="news-card__meta-block">
                  <span class="news-card__date">{item.date}</span>
                  <span class="news-card__tag">{item.tag}</span>
                </div>
                <div class="news-card__content">
                  <h4 class="news-card__title">{item.title}</h4>
                  {item.body?.length ? (
                    <div class="news-card__body">
                      {item.body.map((paragraph) => (
                        <p>{paragraph}</p>
                      ))}
                    </div>
                  ) : null}
                </div>
              </article>
            ))}
          </div>
        </section>

        <section class="news-section news-section--products" id="featured-products">
          <div class="news__header news__header--sub">
            <span class="tag">RECOMMEND</span>
            <h2 class="section__title">おすすめの商品</h2>
            <p class="section__subtitle">入荷した最新のおすすめ商品をピックアップしてご紹介します。</p>
          </div>
          <div class="news__grid news__grid--products">
            {featuredProducts.slice(0, 8).map((item) => (
              <article class="news-card news-card--media">
                <figure class="news-card__media">
                  <img src={item.image} alt={item.title} loading="lazy" />
                </figure>
                <div class="news-card__content">
                  <div class="news-card__meta">
                    <span class="news-card__date">{item.date}</span>
                    <span class="news-card__tag">{item.tag}</span>
                  </div>
                  <h4 class="news-card__title">{item.title}</h4>
                  <p class="news-card__excerpt">{item.summary}</p>
                  <a class="news-card__link" href={item.link}>
                    詳しく見る
                    <span aria-hidden="true">→</span>
                  </a>
                </div>
              </article>
            ))}
          </div>
        </section>

        <section class="news-section news-section--blog" id="tech-blog">
          <div class="news__header news__header--sub">
            <span class="tag">TECH BLOG</span>
            <h2 class="section__title">技術ブログ</h2>
            <p class="section__subtitle">修理実績や運用ノウハウなど、技術スタッフによる最新記事をまとめています。</p>
          </div>
          <div class="news__grid news__grid--blog">
            {techBlogPosts.slice(0, 6).map((item) => (
              <article class="news-card news-card--media">
                <figure class="news-card__media">
                  <img src={item.image} alt={item.title} loading="lazy" />
                </figure>
                <div class="news-card__content">
                  <div class="news-card__meta">
                    <span class="news-card__date">{item.date}</span>
                    <span class="news-card__tag">{item.tag}</span>
                  </div>
                  <h4 class="news-card__title">{item.title}</h4>
                  <p class="news-card__excerpt">{item.summary}</p>
                  <a class="news-card__link" href={item.link}>
                    詳しく見る
                    <span aria-hidden="true">→</span>
                  </a>
                </div>
              </article>
            ))}
          </div>
        </section>
      </div>
    </div>
  </section>

  <ContactSection
    id="contact"
    title="お問い合わせ"
    subtitle="通常2営業日以内にメールでご返信いたします。お急ぎの方はお電話にてご連絡ください。"
    contactInfo={contactInfo}
  />

  <section class="section" id="access-map">
    <div class="container">
      <div class="map__header">
        <span class="tag">ACCESS</span>
        <h2 class="section__title">アクセスマップ</h2>
        <p class="section__subtitle">ライフ西陣店様 西隣のビルの階段を降りてすぐ左手、EARTH CAFE様の横です。</p>
      </div>
      <div class="map__frame">
        <iframe
          title="JOYPRODUCT アクセスマップ"
          src="https://www.google.com/maps?q=%E4%BA%AC%E9%83%BD%E5%BA%9C%E4%BA%AC%E9%83%BD%E5%B8%82%E4%B8%8A%E4%BA%AC%E5%8C%BA%E4%B8%AD%E7%AB%8B%E5%A3%B2%E9%80%9A%E6%9D%BE%E5%B1%8B%E7%94%BA%E8%A5%BF%E5%85%A5%E6%96%B0%E7%99%BD%E6%B0%B4%E4%B8%B8%E7%94%BA462-57&output=embed"
          loading="lazy"
          allowfullscreen
          referrerpolicy="no-referrer-when-downgrade"
        ></iframe>
      </div>
    </div>
  </section>
</MainLayout>
